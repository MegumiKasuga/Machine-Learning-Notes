#### **函数关系与相关关系**
**函数关系**：变量之间存在着一种严格的确定性的依存关系。
	特点：对于自变量X在实数范围内任意一个取值，总有按一定规律的<mark style="background: #FF5582A6;">唯一因变量Y</mark>与其对应。
**相关关系**：变量之间存在着不严格，非确定性的依存关系，相关关系也叫统计关系。
	**相关关系的变量之间关系值是不固定的，随机的。它们之间可以是互为因果，也可能仅仅只是伴随出现。因变量的值总是围绕着期望值有规律地波动。**

**因果关系确定的条件**
要证明A成立可以导致B成立，必须满足以下三个条件：
- A和B相关。
- A必须发生在B之前。
- 所有其他因素C已被排除。

**函数关系与相关关系的联系：由于有观察或测量误差等原因，函数关系在实质中往往通过相关关系表现出来；同时，变量之间的相关关系有可能转化或借助函数关系来表达。**

### 相关分析
根据实际观察或试验取得的数据资料，来<mark style="background: #BBFABBA6;">研究变量(随机变量)之间相互依存关系的形式和密切程度的统计分析方法</mark>。
相关分析的主要任务：测定变量之间的相关方向和程度的大小。

#### 相关系数
- <mark style="background: #ADCCFFA6;">相关系数是表明变量相关程度和方向的测度数据。</mark>
- <mark style="background: #ADCCFFA6;">两个变量之间有无线性相关关系及相关关系密切程度的统计指标。</mark>
- 取值范围：$-1\leq r\leq 1$
	- $0<r\leq 1$正相关关系
	- $-1\leq r< 0$负相关关系
	- $|r|=1$一个变量的取值完全取决于另一个变量(函数关系)
	- $r=0$不存在线性相关关系。
- 说明变量间线性相关程度，可分为
	- $|r|=1$：<mark style="background: #ADCCFFA6;">完全相关</mark>
	- $0\leq|r|\leq 1$：<mark style="background: #ADCCFFA6;">不完全相关</mark>
	- $r=0$：<mark style="background: #ADCCFFA6;">不相关</mark>
-  $|r|$的取值和相关程度

| $\|r\|$的取值范围 | $\|r\|$的意义 |
| ------------ | ---------- |
| 0-0.19       | 极低相关       |
| 0.20-0.39    | 低度相关       |
| 0.40-0.69    | 中度相关       |
| 0.70-0.89    | 高度相关       |
| 0.90-1.00    | 极高相关       |

### 简单相关分析
#### Pearson简单相关系数
**度量定距型变量间的线性相关关系。**
$$r=\frac{\sum_{j=1}^n(x_{j}-\bar{x})(y_{j}-\bar{y})}{n\sigma_{x}\sigma_{y}}$$
也可写成：$$r=\frac{\sum xy-\frac{1}{n}\sum x\sum y}{\sqrt{ \sum x^2-\frac{1}{n}\left( \sum x^2 \right) }\sqrt{ \sum y^2-\frac{1}{n}\left( \sum y \right)^2 }}$$

#### Spearman等级相关系数
**对定序变量或定比变量进行相关分析。**
**将两要素的样本值按数据的大小顺序排列位次，以各要素样本值的位次代替实际数据。**
$$\rho_{s}=1-\frac{6\sum d_{i}^2}{n(n^2-1)}$$其中，有$d_{i}=R_{i}-S_{i}$，即两个定序变量排位的差值。

#### Kendall相关系数
Kendall相关系数与Spearman等级相关系数类似。
- <mark style="background: #FF5582A6;">描述分类或等级变量之间、分类或等级变量与连续变量之间的相关关系</mark>。
- <mark style="background: #FF5582A6;">利用两组秩次测量两个变量间相关程度(非参数统计范畴)</mark>。
$$\tau=\frac{2s}{n(n-1)}$$其中, s为一个变量各排名的贡献值之和。
**贡献值**：该变量和本组样本其他变量的相对排名与对照组一致的次数 - 该变量和本组样其他变量的相对排名与对照组不一致的次数。
当两个变量的排序完全一致时，贡献值之和为：$\frac{n(n+1)}{2}$
具体计算方法：
	取需求行中的每一个数字，分别找出其右侧大于它的数字的个数和小于它的数字的个数，将大于它的数字的个数减去小于它的数字的个数，即得该数字的贡献数。再将每一个数字的贡献数相加，即得(这一行的)贡献值。

### 偏相关分析
在多变量的情况下，变量之间的相关关系时复杂的。因此，多元相关分析除了要利用简单相关系数，还要计算偏相关系数。
在对其他变量的影响进行控制的条件下，衡量多个变量中的某两个变量之间的线性相关程度的指标称为偏相关系数。

#### 偏相关系数和简单相关系数的区别
**计算简单相关系数时**：只需要掌握两个变量的观测数据，并不考虑其他变量对这两个变量可能产生的影响。
**计算偏相关系数时**：需要掌握多个变量的数据，一方面考虑多个变量相互之间可能产生的影响，一方面又采用一定的方法控制其他变量，专门考察两个特定变量的净相关关系。

#### 偏相关系数的计算
**分析变量$x_{1}$和$y$之间的相关时，当控制了变量$x_{2}$的线性作用后，$x_{1}$和$y$之间的偏相关系数定义为**$$r_{yx_{1}x_{2}}=\frac{r_{y x_{1}}-r_{y x_{2}}r_{x_{1}x_{2}}}{\sqrt{ (1-r_{y x_{2}}^2)(1-r_{x_{1}x_{2}}^2) }}$$
### 距离相关分析
- 距离相关分析(研究样本、变量近似程度)
	**指对样本或变量之间相似或不相似程度的一种度量。计算的是一种广义距离。**
- 距离相关分析根据统计量不同，可分为：
	- **不相似性测度：通过计算距离来表示，其数值越大，表示相似程度越弱。**
	- **相似性测度：通过计算相关系数来表示，其数值越大，表示相似程度越强。**



